## 这是一个笔记
<u>android</u>
JNI属于java，与C/C++交互

NDK属于安卓，可以快速开发C/C++ so库，打包到APK中，是在安卓中实现JNI的手段

<u>优化</u>
让线程数量和硬件线程数量匹配

线程是进程中的并发执行流

同步：event事件，mutex互斥量，semaphore信号量，signal信号

原子性：如果没有线程在另一个线程对共享变量计算到一半的时候看到该变量被更新了，那么在共享变量上执行的操作就是具有原子性。

原子性是通过获取释放互斥量实现的，获取释放互斥量的这段程序叫做临界区。其他线程在获得互斥量前都会被挂起。

<u>线程</u>
线程无法被复制，因为具有唯一指向底层资源的句柄。可以被移动。

<u>memory order 内存栅栏</u>
acquire 通过其他线程完成所有工作。确保随后的加载不会移动到当前加载之前。

release 通过这个线程将所有工作释放到这个位置。确保这个线程完成的之前的加载和存储不会被移动到当前的存储之后。

acq_rel 完全栅栏

consume 是acquire的弱化形式。只是依赖的数据不会移动到当前加载之前。

relaxed 允许指令重排。